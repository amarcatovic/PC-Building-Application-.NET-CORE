<form [formGroup]="registrationForm" (ngSubmit)="Submit($event)">
  <div class="form-group">
    <label for="exampleInputEmail1">Username</label>
    <input
      type="text"
      class="form-control"
      id="exampleInputEmail1"
      aria-describedby="emailHelp"
      placeholder="Username"
      formControlName="username"
      [class.is-invalid]="
        registrationForm.get('username').touched &&
        registrationForm.get('username').invalid
      "
    />
    <div
      *ngIf="
        registrationForm.get('username').invalid &&
        registrationForm.get('username').touched
      "
    >
      <small
        class="text-danger"
        *ngIf="registrationForm.get('username').errors?.required"
        >Username is required</small
      >
      <small
        class="text-danger"
        *ngIf="registrationForm.get('username').errors?.userExist"
        >Username alredy exists</small
      >
      <small
        class="text-danger"
        *ngIf="registrationForm.get('username').errors?.minlength"
        >Username is must have at least 3 charachters</small
      >
      <small
        class="text-danger"
        *ngIf="registrationForm.get('username').errors?.forbiddenName"
        >{{ registrationForm.get("username").errors?.forbiddenName.value }} is
        forbbiden name</small
      >
    </div>
  </div>
  <div class="form-group">
    <label for="exampleInputEmail1">Email</label>
    <input
      type="email"
      class="form-control"
      id="exampleInputEmail1"
      aria-describedby="emailHelp"
      placeholder="Email"
      formControlName="email"
      [class.is-invalid]="
        registrationForm.get('email').touched &&
        registrationForm.get('email').invalid
      "
    />
    <div
      *ngIf="
        registrationForm.get('email').invalid &&
        registrationForm.get('email').touched
      "
    >
      <small
        class="text-danger"
        *ngIf="registrationForm.get('email').errors?.required"
        >Email is required</small
      >
      <small
        class="text-danger"
        *ngIf="registrationForm.get('email').errors?.minlength"
        >Email is must have at least 3 charachters</small
      >
      <small
        class="text-danger"
        *ngIf="registrationForm.get('email').errors?.email"
        >Please enter valid email address</small
      >
    </div>
  </div>
  <div class="form-group">
    <label>Password</label>
    <input
      formControlName="password"
      type="password"
      class="form-control"
      placeholder="Password"
    />
  </div>
  <div class="form-group">
    <label>Confirm password</label>
    <input
      formControlName="confirmPassword"
      type="password"
      placeholder="Password"
      class="form-control"
      [class.is-invalid]="registrationForm.errors?.misMatch"
    />
    <small class="text-danger" *ngIf="registrationForm.errors?.misMatch"
      >Passwords did not match</small
    >
  </div>

  <div *ngIf="error" class="alert alert-danger mt-3 mb-3 w-25">{{ error }}</div>
  <button [disabled]="loading" class="btn btn-primary">
    <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
    Login
  </button>
</form>
